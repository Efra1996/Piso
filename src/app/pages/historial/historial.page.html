<ion-header [translucent]="true">
  <ion-toolbar class="ion-text-uppercase">
    <ion-buttons slot="start">
      <ion-menu-button color="secondary">
      </ion-menu-button>
    </ion-buttons>
    <ion-title class="center-title" >historial</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" >
  <!-- Recargar la pagina -->
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-accordion-group  expand="inset">
    <ion-accordion   toggleIcon="caret-down-circle" toggleIconSlot="end" *ngFor="let compra of historial">
      <ion-item slot="header"  [color]="compra.productos.length===1 && compra.productos[0].comprado===false ?'warning':'secondary'">
        <ion-label>{{compra.nombre | titlecase}}</ion-label>
        <ion-label>{{compra.fecha}}</ion-label>
      </ion-item>
      <div class="ion-padding" slot="content" style="background-color: #f0f0f0;">
      <ion-list>
        <ion-item *ngFor="let item of compra.productos">
          <ion-label slot="start">{{item.nombre}}</ion-label>
          <ion-label slot="end">{{item.precio}}€</ion-label>
        </ion-item>
        <ion-item>
          <ion-label>
            Total: 
          </ion-label>
          {{compra.total}}€
        </ion-item>
      </ion-list>
      
      </div>
    </ion-accordion>
  </ion-accordion-group>
  
</ion-content>
